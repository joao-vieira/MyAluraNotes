<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><style>body {
  max-width: 980px;
  border: 1px solid #ddd;
  outline: 1300px solid #fff;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 45px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headerlink {
  font: normal 400 16px fontawesome-mini;
  vertical-align: middle;
  margin-left: -16px;
  float: left;
  display: inline-block;
  text-decoration: none;
  opacity: 0;
  color: #333;
}

.markdown-body .headerlink:focus {
  outline: none;
}

.markdown-body h1 .headerlink {
  margin-top: 0.8rem;
}

.markdown-body h2 .headerlink,
.markdown-body h3 .headerlink {
  margin-top: 0.6rem;
}

.markdown-body h4 .headerlink {
  margin-top: 0.2rem;
}

.markdown-body h5 .headerlink,
.markdown-body h6 .headerlink {
  margin-top: 0;
}

.markdown-body .headerlink:hover,
.markdown-body h1:hover .headerlink,
.markdown-body h2:hover .headerlink,
.markdown-body h3:hover .headerlink,
.markdown-body h4:hover .headerlink,
.markdown-body h5:hover .headerlink,
.markdown-body h6:hover .headerlink {
  opacity: 1;
  text-decoration: none;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .codehilite pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* MultiMarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px fontawesome-mini;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\e157';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><style>/*GitHub*/
.codehilite {background-color:#fff;color:#333333;}
.codehilite .hll {background-color:#ffffcc;}
.codehilite .c{color:#999988;font-style:italic}
.codehilite .err{color:#a61717;background-color:#e3d2d2}
.codehilite .k{font-weight:bold}
.codehilite .o{font-weight:bold}
.codehilite .cm{color:#999988;font-style:italic}
.codehilite .cp{color:#999999;font-weight:bold}
.codehilite .c1{color:#999988;font-style:italic}
.codehilite .cs{color:#999999;font-weight:bold;font-style:italic}
.codehilite .gd{color:#000000;background-color:#ffdddd}
.codehilite .ge{font-style:italic}
.codehilite .gr{color:#aa0000}
.codehilite .gh{color:#999999}
.codehilite .gi{color:#000000;background-color:#ddffdd}
.codehilite .go{color:#888888}
.codehilite .gp{color:#555555}
.codehilite .gs{font-weight:bold}
.codehilite .gu{color:#800080;font-weight:bold}
.codehilite .gt{color:#aa0000}
.codehilite .kc{font-weight:bold}
.codehilite .kd{font-weight:bold}
.codehilite .kn{font-weight:bold}
.codehilite .kp{font-weight:bold}
.codehilite .kr{font-weight:bold}
.codehilite .kt{color:#445588;font-weight:bold}
.codehilite .m{color:#009999}
.codehilite .s{color:#dd1144}
.codehilite .n{color:#333333}
.codehilite .na{color:teal}
.codehilite .nb{color:#0086b3}
.codehilite .nc{color:#445588;font-weight:bold}
.codehilite .no{color:teal}
.codehilite .ni{color:purple}
.codehilite .ne{color:#990000;font-weight:bold}
.codehilite .nf{color:#990000;font-weight:bold}
.codehilite .nn{color:#555555}
.codehilite .nt{color:navy}
.codehilite .nv{color:teal}
.codehilite .ow{font-weight:bold}
.codehilite .w{color:#bbbbbb}
.codehilite .mf{color:#009999}
.codehilite .mh{color:#009999}
.codehilite .mi{color:#009999}
.codehilite .mo{color:#009999}
.codehilite .sb{color:#dd1144}
.codehilite .sc{color:#dd1144}
.codehilite .sd{color:#dd1144}
.codehilite .s2{color:#dd1144}
.codehilite .se{color:#dd1144}
.codehilite .sh{color:#dd1144}
.codehilite .si{color:#dd1144}
.codehilite .sx{color:#dd1144}
.codehilite .sr{color:#009926}
.codehilite .s1{color:#dd1144}
.codehilite .ss{color:#990073}
.codehilite .bp{color:#999999}
.codehilite .vc{color:teal}
.codehilite .vg{color:teal}
.codehilite .vi{color:teal}
.codehilite .il{color:#009999}
.codehilite .gc{color:#999;background-color:#EAF2F5}
</style><title>README</title></head><body><article class="markdown-body"><h1 id="javascript-avancado-iii-es6-orientacao-a-objetos-e-padroes-de-projetos">JavaScript Avançado III: ES6, orientação a objetos e padrões de projetos<a class="headerlink" href="#javascript-avancado-iii-es6-orientacao-a-objetos-e-padroes-de-projetos" title="Permanent link"></a></h1>
<h2 id="aula-01-guardando-negociacoes-offline-com-indexeddb">Aula 01 -  Guardando negociações offline com IndexedDB<a class="headerlink" href="#aula-01-guardando-negociacoes-offline-com-indexeddb" title="Permanent link"></a></h2>
<h3 id="atividade-02-browser-possui-banco-de-dados-conheca-o-indexeddb">Atividade 02 - Browser possui banco de dados? Conheça o IndexedDB!<a class="headerlink" href="#atividade-02-browser-possui-banco-de-dados-conheca-o-indexeddb" title="Permanent link"></a></h3>
<ul>
<li>A aplicação desenvolvida até o momento <strong>não persiste</strong> as informações cadastradas. Ou seja, sempre que o <em>browser</em> for recarregado/fechado, perderemos todas nossas informações.<ul>
<li>Porém, não é isso que queremos! Portanto, vamos conhecer nessa aula o <a href="https://developer.mozilla.org/pt-BR/docs/IndexedDB">IndexedDB</a>.</li>
</ul>
</li>
<li>Para começar a trabalhar com o <em>IndexedDB</em>, não abre-se uma conexão e sim realiza-se uma <strong>requisição de abertura</strong>.
    <code>var openRequest = window.indexedDB.open('aluraframe', 1);</code><ul>
<li>O método <code>open()</code> recebe 2 parâmetros:<ul>
<li>O 1º é o <strong>nome do banco</strong> que queremos abrir;</li>
<li>E o 2º é um número que indica a versão do banco (deve ser incrementado toda vez que for necessário criar/atualizar alguma <em>Object Store</em>).</li>
</ul>
</li>
<li>Toda vez que uma requisição de abertura é executada, várias coisas podem acontecer, cenário esse conhecido como <strong>tríade de eventos</strong>. Essa tríade é composta por:<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBOpenDBRequest/onupgradeneeded"><code>onupgradeneeded</code></a><ul>
<li><em>Cria ou altera um banco já existente</em></li>
</ul>
</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBRequest/onsuccess"><code>onsuccess</code></a><ul>
<li><em>Conexão obtida com sucesso</em></li>
</ul>
</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBRequest/onerror"><code>onerror</code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="atividade-03-comunicando-se-com-o-banco-usando-o-idbdatabase">Atividade 03 - Comunicando-se com o banco usando o IDBDatabase<a class="headerlink" href="#atividade-03-comunicando-se-com-o-banco-usando-o-idbdatabase" title="Permanent link"></a></h3>
<ul>
<li>Para que possamos interagir com o banco, no <em>IndexedDB</em> usa-se os <a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API#gloss_object_store"><em>Object Store</em></a>, que possuem um papel semelhante às <strong>tabelas</strong> dos banco de dados relacionais.<ul>
<li>No entanto, não é correto chamar essa estrutura de &ldquo;tabela&rdquo; pois os <em>object store</em> <strong>não possuem *schema</strong><em>. Ou seja, diferentemente das colunas de DB&rsquo;s relacionais que só aceitam tipos <code>string</code>, <code>int</code>, <code>boolean</code>, no *IndexedDB</em> podemos armazenar qualquer valor, desde que seja um <strong>objeto válido do JavaScript</strong>.</li>
</ul>
</li>
</ul>
<h3 id="atividade-04-quero-gravar-em-uma-object-store-mas-onde-esta-a-transacao">Atividade 04 - Quero gravar em uma Object Store, mas onde está a transação?<a class="headerlink" href="#atividade-04-quero-gravar-em-uma-object-store-mas-onde-esta-a-transacao" title="Permanent link"></a></h3>
<ul>
<li>Para interagir com um <em>Object Store</em>, precisamos adquirir uma <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBDatabase/transaction"><code>transaction</code></a>.<ul>
<li>Para utilizar esse método, devemos passar como <strong>1º parâmetro</strong> um <code>array</code> com o nome do <em>Object Store</em> que queremos obter. Já como <strong>2º parâmetro</strong>, devemos enviar o <strong>modo de operação que desejamos</strong> para aquele <em>Object Store</em>. Os modos de operação disponíveis são:<ul>
<li><code>readonly</code></li>
<li><code>readwrite</code></li>
<li><code>readwriteflush</code></li>
</ul>
</li>
<li>Feito isso, através da <code>transaction</code> retornada, podemos utilizar o método <code>objectStore()</code> e dizer qual é o <em>Object Store</em> que queremos interagir (um tanto quanto redundante, mas aqui só seguimos as regras, meu caro watson!).</li>
<li>Por fim, caso o objetivo seja inserir um novo registro no <em>Object Store</em>, podemos utilizar o método <code>add()</code> que está disponível na variável que armazenou o retorno do método <code>objectStore()</code>.<ul>
<li>O método <code>add()</code>, por sua vez, retorna uma <strong>requisição</strong> que nos permite adicionar esse registro (pois a operação pode ter sido executada com sucesso ou não). Em virtude dessa possibilidade, essa <strong>requisição</strong> de retorno possui dois atributos: <code>onsuccess</code> e <code>onerror</code>.<ul>
<li>Vale lembrar que <strong>sempre</strong> que deseja-se inserir um registro em um <em>Object Store</em>, esse registro deve estar acompanhado de um <code>id</code> ou <strong>ser único</strong> dentro daquele <em>Object Store</em>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="atividade-05-so-acredito-vendo-listando-objetos-de-uma-store">Atividade 05 - Só acredito vendo: listando objetos de uma store<a class="headerlink" href="#atividade-05-so-acredito-vendo-listando-objetos-de-uma-store" title="Permanent link"></a></h3>
<ul>
<li>Para listar os registros de um <em>Object Store</em>, devemos abrir um <code>cursor</code>. <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/openCursor">Veja mais</a>.<ul>
<li>Assim como o método <code>add()</code> de uma <em>store</em>, o <code>cursor</code> também possui os atributos <code>onsuccess</code> e <code>onerror</code>.</li>
</ul>
</li>
</ul>
<h2 id="aula-02-gerenciando-nossa-conexao-com-o-pattern-factory">Aula 02 - Gerenciando nossa conexão com o pattern Factory<a class="headerlink" href="#aula-02-gerenciando-nossa-conexao-com-o-pattern-factory" title="Permanent link"></a></h2>
<h3 id="atividade-04-o-padrao-de-projeto-module-pattern">Atividade 04 - O padrão de projeto Module Pattern<a class="headerlink" href="#atividade-04-o-padrao-de-projeto-module-pattern" title="Permanent link"></a></h3>
<ul>
<li>De uma forma bem abstrata e &ldquo;grosseira&rdquo;, esse padrão de projeto transforma trechos de códigos em <strong>módulos</strong>. Esses módulos podem ser entendidos como uma unidade de código <em>confinada</em>, onde tudo que estiver armazenado nessa unidade não pode ser acessado &ldquo;por ninguém&rdquo; (de local nenhum na aplicação).<ul>
<li>Leia mais sobre o assunto em:<ul>
<li><a href="https://nandovieira.com.br/design-patterns-no-javascript-module">Link 1</a></li>
<li><a href="https://coryrylan.com/blog/javascript-module-pattern-basics">Link 2</a></li>
</ul>
</li>
</ul>
</li>
<li><strong>Função anônima</strong> é uma função sem nome.<ul>
<li>Esse tipo de função também possui outro adjetivo (mas que não quer dizer a mesma coisa): <strong>função auto invocada</strong>. Isso porque, uma função anônima será &ldquo;chamada&rdquo; por ela própria.</li>
</ul>
</li>
</ul>
<h3 id="atividade-05-monkey-patch-grandes-poderes-trazem-grandes-responsabilidades">Atividade 05 - Monkey Patch: grandes poderes trazem grandes responsabilidades<a class="headerlink" href="#atividade-05-monkey-patch-grandes-poderes-trazem-grandes-responsabilidades" title="Permanent link"></a></h3>
<ul>
<li>De forma breve, <em>Monkey Patching</em> é uma forma de forçar uma API, Classe, método ou atributo a agir de uma forma diferente à qual ele está &ldquo;acostumado&rdquo;. Em outras palavras, é uma forma de <strong>sobrescrever o comportamento de um recurso da linguagem</strong>.<ul>
<li>Leia mais sobre o assunto em:<ul>
<li><a href="https://www.audero.it/blog/2016/12/05/monkey-patching-javascript/">Link 1</a></li>
<li><a href="http://me.dt.in.th/page/JavaScript-override/">Link 2</a></li>
</ul>
</li>
</ul>
</li>
<li>Nessa atividade também aprendemos que o <em>ES2015+</em> nos permite usar a palavra reservada <a href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Statements/const"><strong>const</strong></a>. Como o próprio nome já indica - além de ser familiar com outras linguagens de programação -, essa palavra reservada é utilizada para definir <strong>constantes</strong> em nosso código.<ul>
<li>Como &ldquo;recordar é viver (by: Flávio Almeida)&rdquo;, uma <strong>constante não pode ter seu valor inicial reatribuído/substiuído</strong>.</li>
</ul>
</li>
</ul>
<h3 id="atividade-12-para-saber-mais-variaveis-declaradas-com-const-sao-realmente-imutaveis">Atividade 12 - Para saber mais: variáveis declaradas com const são realmente imutáveis?<a class="headerlink" href="#atividade-12-para-saber-mais-variaveis-declaradas-com-const-sao-realmente-imutaveis" title="Permanent link"></a></h3>
<ul>
<li>Vale ressaltar que a palavra <code>const</code> não garante a imutabilidade de uma variável, apenas garante que essa variável não poderá sofrer uma <strong>nova atribuição de valor</strong>. No entanto, vejamos uma situação em que pode acontecer algo inesperado:<ul>
<li>Exemplo funcional:
    <div class="codehilite"><pre><span class="kr">const</span> <span class="nx">hoje</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
<span class="nx">hoje</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>  <span class="c1">// dá erro, pois é uma nova atribuição de valor!</span>
</pre></div></li>
<li>Exemplo inesperado:
    <div class="codehilite"><pre><span class="kr">const</span> <span class="nx">hoje</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
<span class="nx">hoje</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">hoje</span><span class="p">.</span><span class="nx">getDate</span><span class="p">())</span> <span class="p">;</span> <span class="c1">// alterou o dia para 5, pois não estamos atribuindo um novo valor a variável usando o operador =, mas estamos alterando as propriedades do objeto Date por meio de seus métodos!</span>
</pre></div><ul>
<li><strong>Cuidado com isso!</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="atividade-13-para-saber-mais-limite-de-espaco">Atividade 13 - Para saber mais: limite de espaço<a class="headerlink" href="#atividade-13-para-saber-mais-limite-de-espaco" title="Permanent link"></a></h3>
<ul>
<li><strong><code>OBSERVAÇÃO</code></strong>: Cada browser define um limite de tamanho para os dados armazenados no IndexedDB sem que seja necessário autorização do usuário. Se esse limite for excedido, uma caixa de diálogo pedirá a confirmação do usuário. Caso ele negue, o evento <code>onerror</code> será executado. O cálculo do limite disponível muitas vezes é calculado dinamicamente e varia de browser para browser, como está escrito na documentação:<ul>
<li><em>&ldquo;The process by which the browser works out how much space to allocate to web data storage and what to delete when that limit is reached is not simple, and differs between browsers.&rdquo;</em> (<a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API">Fonte</a>) </li>
</ul>
</li>
</ul>
<h2 id="aula-03-padronizando-acesso-aos-dados-com-o-pattern-dao">Aula 03 - Padronizando acesso aos dados com o pattern DAO<a class="headerlink" href="#aula-03-padronizando-acesso-aos-dados-com-o-pattern-dao" title="Permanent link"></a></h2>
<h3 id="atividade-01-o-padrao-de-projeto-dao">Atividade 01 - O padrão de projeto DAO<a class="headerlink" href="#atividade-01-o-padrao-de-projeto-dao" title="Permanent link"></a></h3>
<ul>
<li><strong><code>DAO</code>:</strong> Data Access Object<ul>
<li>Esse padrão de projeto visa abstrair/facilitar os detalhes de interação com um banco de dados.</li>
</ul>
</li>
<li>A primeira <strong>convenção</strong> desse modelo que devemos saber é que quando estamos fazendo uma <em>persistência</em> do modelo <code>Modelo</code>, deve-se criar uma classe chamada <strong><code>ModeloDAO</code></strong>.</li>
</ul>
<h3 id="atividade-04-removendo-todas-as-negociacoes">Atividade 04 - Removendo todas as negociações<a class="headerlink" href="#atividade-04-removendo-todas-as-negociacoes" title="Permanent link"></a></h3>
<ul>
<li>Para <strong>remover</strong> todos os registros de um <em>Object Store</em>, pode-se realizar o mesmo procedimento executado para listar os registros (abrir uma conexão - capturar uma transação - selecionar um objectStore - obter um cursor). No entanto, ao invés de utilizar o método <code>openCursor()</code> para obter um cursor, devemos utilizar o método <code>clear()</code>.</li>
</ul>
<h3 id="atividade-05-o-padrao-dao">Atividade 05 - O padrão DAO<a class="headerlink" href="#atividade-05-o-padrao-dao" title="Permanent link"></a></h3>
<ul>
<li>Em um breve resumo, <strong>quais as vantagens de se usar classes com o padrão DAO</strong>?<ul>
<li>A vantagem está relacionada com a capacidade de isolar todo o código que acessa seu repositório de dados em <strong>um&rsquo;único lugar</strong>. Assim, toda vez que algum desenvolvedor precisar realizar operações de persistência, ele verá que existe um único local para isso, seus <em>DAO&rsquo;s</em>.</li>
<li>Em um nível um pouco mais técnico, o DAO faz parte da <em>camada de persistência</em>, funcionando como uma &ldquo;fachada&rdquo; para a API do <em>IndexedDB</em> (nesse caso). Com isso, obtemos a vantagem da <strong>abstração</strong>, pois para utilizar o DAO, um desenvolvedor não obrigatoriamente precisa saber os detalhes do <code>store</code> ou do <code>cursor</code>.</li>
</ul>
</li>
</ul>
<h3 id="atividade-09-para-saber-mais-indexeddb-e-transacoes">Atividade 09 - Para saber mais: IndexedDB e transações<a class="headerlink" href="#atividade-09-para-saber-mais-indexeddb-e-transacoes" title="Permanent link"></a></h3>
<ul>
<li>Esse tópico foi criado apenas para salientar que o IndexDB trabalha um pouco diferente dos bancos de dados tradicionais:<ul>
<li><em><em>Transações *auto commited</em>:</em>* quando uma operação que obtém uma transação é realizada com sucesso (evento <code>onsuccess</code> é chamado), essa <strong>transação é fechada automaticamente</strong>.  <ul>
<li>É por causa disso que todas as interações com o banco solicitam uma nova transação.</li>
</ul>
</li>
<li><strong>Operações são canceladas com o método <code>abort</code>:</strong> para realizar algo semelhante ao <code>rollback</code> dos bancos de dados relacionais, podemos invocar o método <code>abort()</code>. Veja o exemplo:
    <div class="codehilite"><pre><span class="nx">ConnectionFactory</span><span class="p">.</span>
    <span class="p">.</span><span class="nx">getConnection</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">connection</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">transaction</span> <span class="o">=</span> <span class="nx">connection</span><span class="p">.</span><span class="nx">transaction</span><span class="p">([</span><span class="s1">&#39;negociacoes&#39;</span><span class="p">],</span> <span class="s1">&#39;readwrite&#39;</span><span class="p">);</span>
            <span class="kd">let</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">transaction</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="s1">&#39;negociacoes&#39;</span><span class="p">);</span>

            <span class="kd">let</span> <span class="nx">negociacao</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Negociacao</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">200</span><span class="p">);</span>
            <span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">store</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">negociacao</span><span class="p">);</span>

            <span class="c1">// #### VAI CANCELAR A TRANSAÇÃO. O evento onerror será chamado.</span>
            <span class="nx">transaction</span><span class="p">.</span><span class="nx">abort</span><span class="p">();</span> 

            <span class="nx">request</span><span class="p">.</span><span class="nx">onsuccess</span> <span class="o">=</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Negociação incluida com sucesso&#39;</span><span class="p">);</span>
            <span class="p">};</span>

            <span class="nx">request</span><span class="p">.</span><span class="nx">onerror</span> <span class="o">=</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Não foi possível incluir a negociação&#39;</span><span class="p">);</span>
            <span class="p">};</span>
    <span class="p">});</span>
</pre></div>
        - Esse código exibirá a seguinte mensagem de erro: <code>DOMException: The transaction was aborted, so the request cannot be fulfilled.</code><ul>
<li>Porém, para que não seja necessário tratar uma operação <strong>abortada</strong> de uma operação com <strong>erro de execução</strong>, sendo que elas são coisas diferentes, podemos tratar erros de uma operação <strong>abortada</strong> utilizando o método <code>onabort</code> da transação.
    <div class="codehilite"><pre><span class="nx">ConnectionFactory</span><span class="p">.</span>
    <span class="p">.</span><span class="nx">getConnection</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">connection</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">transaction</span> <span class="o">=</span> <span class="nx">connection</span><span class="p">.</span><span class="nx">transaction</span><span class="p">([</span><span class="s1">&#39;negociacoes&#39;</span><span class="p">],</span> <span class="s1">&#39;readwrite&#39;</span><span class="p">);</span>
        <span class="kd">let</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">transaction</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="s1">&#39;negociacoes&#39;</span><span class="p">);</span>

        <span class="kd">let</span> <span class="nx">negociacao</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Negociacao</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">200</span><span class="p">);</span>
        <span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">store</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">negociacao</span><span class="p">);</span>

        <span class="c1">// #### VAI CANCELAR A TRANSAÇÃO. O evento onabort será chamado.</span>
        <span class="nx">transaction</span><span class="p">.</span><span class="nx">abort</span><span class="p">();</span> 

        <span class="nx">transaction</span><span class="p">.</span><span class="nx">onabort</span> <span class="o">=</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Transação abortada&#39;</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">request</span><span class="p">.</span><span class="nx">onsuccess</span> <span class="o">=</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Negociação incluida com sucesso&#39;</span><span class="p">);</span>
        <span class="p">};</span>

        <span class="nx">request</span><span class="p">.</span><span class="nx">onerror</span> <span class="o">=</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Não foi possível incluir a negociação&#39;</span><span class="p">);</span>
        <span class="p">};</span>

    <span class="p">});</span>
</pre></div></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="atividade-10-para-saber-mais-bibliotecas-que-encapsulam-o-indexeddb">Atividade 10 - Para saber mais: bibliotecas que encapsulam o IndexedDB<a class="headerlink" href="#atividade-10-para-saber-mais-bibliotecas-que-encapsulam-o-indexeddb" title="Permanent link"></a></h3>
<ul>
<li>Caso você não queira ter o trabalho de implementar padrões de projeto e tratar o IndexedDB da sua forma, <strong>obviamente</strong> alguém deixou algo pronto para facilitar nossa vida. Portanto, algumas sugestões de uso são:<ul>
<li><a href="https://dexie.org/">Dexie.js</a></li>
<li><a href="http://aaronpowell.github.io/db.js/">db.js</a></li>
</ul>
</li>
</ul>
<h2 id="aula-04-lapidando-um-pouco-mais-nossa-aplicacao">Aula 04 - Lapidando um pouco mais nossa aplicação<a class="headerlink" href="#aula-04-lapidando-um-pouco-mais-nossa-aplicacao" title="Permanent link"></a></h2>
<h3 id="atividade-01-ops-nao-podemos-importar-negociacoes-duplicadas">Atividade 01 - Ops! Não podemos importar negociações duplicadas.<a class="headerlink" href="#atividade-01-ops-nao-podemos-importar-negociacoes-duplicadas" title="Permanent link"></a></h3>
<ul>
<li>Como já sabemos, todo <em>array</em> em JavaScript possui o método <a href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Array/filtro"><code>filter</code></a>.<ul>
<li>O método <code>filter</code> permite que o desenvolvedor insira uma &ldquo;peneira&rdquo; no seu código, ou seja, uma condicional que dirá se o elemento que está sendo verificado naquele momento se enquadra (ou não) no filtro estabelecido. Ao final de suas operações, esse método retorna um <strong>novo</strong> <em>array</em> com todos os elementos que passaram no teste/condição.</li>
</ul>
</li>
</ul>
<h3 id="atividade-02-comparacao-entre-objetos">Atividade 02 - Comparação entre objetos<a class="headerlink" href="#atividade-02-comparacao-entre-objetos" title="Permanent link"></a></h3>
<ul>
<li><strong>CURIOSIDADE:</strong> o JavaScript possui algumas peculiaridades quando o assunto é <strong>comparação</strong>.<ul>
<li>Por exemplo: quando estamos comparando variáveis com <code>tipos literais</code> (para quem programa em Java, por exemplo, leia-se <code>tipos primitivos</code>) como <strong><code>string</code>, <code>number</code> e <code>boolean</code></strong>, ao usar <code>==</code>, o JavaScript compara se os valores armazenados nessas variáveis são iguais.</li>
<li>No entanto, em qualquer outra comparação, como em um tipo <code>new Date()</code>, por exemplo - assim como em outras linguagens -, o JavaScript compara se essas variáveis apontam para o mesmo objeto, em memória.</li>
<li>Execute os exemplos abaixo caso queira visualizar essa situação:
    <div class="codehilite"><pre>    <span class="c1">// Caso 1: true</span>
    <span class="kd">var</span> <span class="nx">nome1</span> <span class="o">=</span> <span class="s1">&#39;João&#39;</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">nome2</span> <span class="o">=</span> <span class="s1">&#39;João&#39;</span><span class="p">;</span>
    <span class="nx">nome1</span> <span class="o">==</span> <span class="nx">nome2</span>

    <span class="c1">// Caso 2: true</span>
    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="nx">x</span> <span class="o">==</span> <span class="nx">y</span>

    <span class="c1">// Caso 3: false</span>
    <span class="kd">var</span> <span class="nx">hoje</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="s1">&#39;2019-00-31&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">today</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="s1">&#39;2019-00-31&#39;</span><span class="p">);</span>
    <span class="nx">hoje</span> <span class="o">==</span> <span class="nx">today</span>
</pre></div><ul>
<li><strong><code>MACETE</code>:</strong> para que seja possível comparar dois objetos em JavaScript de modo que não seja necessário comparar seus atributos, podemos utilizar o já conhecido <code>JSON.stringify</code> (lembre que <strong>tipos literais</strong> têm seus <strong>valores</strong> comparados, não sua <strong>referência</strong>). Veja:
    <div class="codehilite"><pre><span class="c1">// Caso 3: agora é true!</span>
<span class="kd">var</span> <span class="nx">hoje</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="s1">&#39;2019-00-31&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">today</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="s1">&#39;2019-00-31&#39;</span><span class="p">);</span>
<span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">hoje</span><span class="p">)</span> <span class="o">==</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">today</span><span class="p">)</span>
</pre></div></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="atividade-03-usando-o-metodo-some">Atividade 03 - Usando o método some<a class="headerlink" href="#atividade-03-usando-o-metodo-some" title="Permanent link"></a></h3>
<ul>
<li>Um método existente desde o <em>ES5</em> - mas não tão usado - que, quando utilizado em conjunto com o método <code>filter</code>, por exemplo, pode retornar bons frutos, é o <a href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Array/some"><code>some()</code></a>.<ul>
<li>Sua execução é muito semelhanta ao <code>filter</code>.</li>
<li>Ao ser invocado, o <code>some</code> irá percorrer todos elementos do <em>array</em>, comparando cada um desses elementos com uma &ldquo;condição de busca&rdquo; estipulada pelo desenvolvedor.</li>
<li>Se em algum momento - qualquer momento - o <code>same</code> encontrar o valor procurado, o retorno de sua execução será <code>true</code> e ele, instantaneamente, irá encerrar seu <em>laço interno</em> de repetição.<ul>
<li>No entanto, se, após ter percorrido todo <em>array</em>, ele não encontrar o valor buscado, o retorno de sua execução será um <code>false</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="atividade-04-importando-negociacoes-automaticamente">Atividade 04 - Importando negociações automaticamente<a class="headerlink" href="#atividade-04-importando-negociacoes-automaticamente" title="Permanent link"></a></h3>
<ul>
<li><strong><code>BOA PRÁTICA</code>:</strong> no <code>constructor</code> deve-se definir apenas os <strong>atributos</strong> da sua classe. Não é interessante que lógica, regras de negócios ou validações estejam escritas nesta etapa do código.<ul>
<li>Caso precise executar algumas tarefas logo no início da aplicação, crie um método <em>privado</em> <code>_init()</code>, por exemplo, e chame-o no fim do <code>constructor</code>.</li>
</ul>
</li>
</ul>
<h3 id="atividade-08-comparacao-entre-objetos">Atividade 08 - Comparação entre objetos<a class="headerlink" href="#atividade-08-comparacao-entre-objetos" title="Permanent link"></a></h3>
<ul>
<li>Existem tipos primitivos em JavaScript chamado de literais que podem ser acessados como objetos quanto invocamos algum método. O encapsulamento de um primitivo por um objeto automaticamente pelo interpretador é chamado de <code>autoboxing</code>.<ul>
<li>Por mais que tenhamos um objeto representando um número, a comparação será pelo valor literal (primitivo) e não pela referência. Números são encapsulados pela função construtora <code>Number</code>.</li>
</ul>
</li>
</ul>
<h3 id="atividade-11-experimento-com-promise">Atividade 11 - Experimento com promise<a class="headerlink" href="#atividade-11-experimento-com-promise" title="Permanent link"></a></h3>
<ul>
<li><em>Promise aninhada</em> <strong>vs.</strong> <em>Promise.all()</em><ul>
<li><code>Promise.all</code> resolve as promises <strong>em paralelo</strong>, ou seja, uma promise <strong>não aguarda a outra terminar</strong> para ser executada. <code>Promise.all</code> é interessante quando uma promise não depende do resultado da promise anterior. </li>
<li>Nos casos onde há dependência, o encadeamento de promises é o caminho mais indicado.</li>
</ul>
</li>
</ul>
<h2 id="aula-05-simplificando-requisicoes-ajax-com-a-fetch-api">Aula 05 - Simplificando requisições Ajax com a Fetch API<a class="headerlink" href="#aula-05-simplificando-requisicoes-ajax-com-a-fetch-api" title="Permanent link"></a></h2>
<h3 id="atividade-01-xmlhttprequest-sera-que-existe-algo-de-mais-alto-nivel">Atividade 01 - xmlHttpRequest: será que existe algo de mais alto nível?<a class="headerlink" href="#atividade-01-xmlhttprequest-sera-que-existe-algo-de-mais-alto-nivel" title="Permanent link"></a></h3>
<ul>
<li>Para facilitar ainda mais a vida dos desenvolvedores - já que ela é tão complicada .-. -, no <em>ES2016</em> foi disponibilizada uma <em>API</em> que simplifica a chamada de requisições <em>Ajax</em>: a <a href="https://developer.mozilla.org/pt-BR/docs/Web/API/Fetch_API">Fetch API</a>.<ul>
<li>Veja <a href="https://braziljs.org/blog/fetch-api-e-o-javascript/">aqui</a> um blog escrito pelo <a href="https://braziljs.org/blog/author/felipe-n-moura/">Felipe N. Moura</a> - um dos mitos fundadores do <a href="https://braziljs.org/">BrazilJS</a> - sobre o assunto.</li>
<li>Para usar esse recurso, existe no <em>escopo global</em> a chamada para <code>fetch(urlAqui)</code>, que trabalha no padrão <code>Promise</code>.<ul>
<li>Vale lembrar aqui que a resposta desse método é <strong>bruta</strong> (não é um <em>json</em>, não é um texto, não é um <em>number</em>). Em virtude disso, a própria resposta possui métodos disponíveis para converter esse retorno no formato desejado. Tudo isso é possível porque essa resposta é um objeto <a href="https://developer.mozilla.org/pt-BR/docs/Web/API/Response"><em>Response</em></a> (veja a documentação para encontrar os métodos e propriedades disponíveis para esse objeto).</li>
</ul>
</li>
<li>Uma das poucas <strong>desvantagens</strong> desse recurso é que, em razão do tratamento de <em>status</em> ter sido abstraído pelo <em>API</em> e não ser mais uma responsabilidade do desenvolvedor, <em><em>não podemos mais cancelar uma requisição *AJAX</em> durante sua execução</em>*.</li>
<li>Para <strong>tratar um erro</strong> com a <em>Fetch API</em> é muito simples. O objeto <em>Response</em>, como citado anteriormente, possui vários atributos e, para nossa sorte, um deles é o <code>ok</code>. Esse atributo sempre terá como valor <code>true</code> ou <code>false</code>.<ul>
<li>Se o <em>status</em> da resposta recebida do <em>backend</em> vai de <strong>200 até 299</strong>, essa requisição teve um retorno correto e o valor de <code>ok</code> será <code>true</code>. Caso contrário, o valor será <code>false</code>.<ul>
<li>Para capturar a mensagem do erro, caso ele ocorra, use <em>retorno.<code>statusText</code></em>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="atividade-02-metodo-post">Atividade 02 - Método Post<a class="headerlink" href="#atividade-02-metodo-post" title="Permanent link"></a></h3>
<ul>
<li>Para utilizar a <em>Fetch API</em> com o método <strong>POST</strong>, basta que, como <strong>2º parâmetro</strong> da chamada, enviemos um <em>objeto de configuração</em>, que poderá conter valores como <code>headers</code>, <code>method</code> (obrigatoriamente <em>POST</em>, nesse caso), <code>body</code>. Veja abaixo um exemplo de requisição <em>POST</em>:
    <div class="codehilite"><pre><span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span><span class="s1">&#39;Content-type&#39;</span><span class="p">,</span> <span class="s1">&#39;application/json&#39;</span><span class="p">},</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span>
    <span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">dado</span><span class="p">)</span>
<span class="p">})</span>
<span class="c1">// tratamento do retorno aqui</span>
</pre></div></li>
</ul>
<h2 id="aula-06-tornando-nosso-codigo-ainda-mais-compativel-usando-babel">Aula 06 - Tornando nosso código ainda mais compatível usando Babel<a class="headerlink" href="#aula-06-tornando-nosso-codigo-ainda-mais-compativel-usando-babel" title="Permanent link"></a></h2>
<h3 id="atividade-01-o-fantasma-da-incompatibilidade">Atividade 01 - O fantasma da incompatibilidade<a class="headerlink" href="#atividade-01-o-fantasma-da-incompatibilidade" title="Permanent link"></a></h3>
<ul>
<li>Para que não seja necessário abrir mão de escrever um código mais elegante, sucinto e legível, aproveitando as atualizações benéficas da linguagem <em>JavaScript</em>, podemos utilizar algumas ferramentas que revolucionaram o quesito <strong>compatibilidade</strong> quando o assunto é <em>JavaScript</em>.<ul>
<li>Em suma, continuaremos desenvolvendo utilizando o que há de mais novo na linguagem;</li>
<li>Toda vez que o projeto/código for &ldquo;para o ar&rdquo;, para a produção, essas ferramentas irão compilar o nosso código para uma versão mais antiga da linguagem, quase que como um <em>downgrade</em>;</li>
<li>Esse processo se chama <code>transcompilação</code> e, para que ele seja possível, é necessário utilizarmos um <code>transpiler</code>.<ul>
<li>Nesse projeto, estaremos utilizando o diretório <code>aluraframe/client/js/app-es6</code> para escrevermos, realmente, nosso sistema. E, dentro de <code>aluraframe/client/js/app</code>, iremos direcionar os códigos que serão gerados pelo nosso <em>transpiler</em>.</li>
<li>Note que as inclusões de <em>scripts</em> (<code>index.html</code>) continuam apontando para o diretório <strong><code>app</code></strong>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="atividade-02-babel-instalacao-e-build-step">Atividade 02 - Babel, instalação e build-step<a class="headerlink" href="#atividade-02-babel-instalacao-e-build-step" title="Permanent link"></a></h3>
<ul>
<li>Para realizarmos a instalação do <a href="https://babeljs.io/"><em>Babel</em></a>, utilizaremos o <a href="https://www.npmjs.com/">npm</a> - o gerenciador de pacotes do <a href="https://nodejs.org/en/">Node.js</a>.<ul>
<li>E, sempre que vamos trabalhar em algum projeto que vai utilizar <strong>módulos do Node.js</strong>, o primeiro passo que devemos executar é rodar o comando: <code>npm init</code><ul>
<li>Esse comando irá criar um arquivo chamado <code>package.json</code>. Esse arquivo funciona como uma &ldquo;anotação&rdquo; de todos os módulos do Node.js que serão utilizados no projeto.</li>
</ul>
</li>
<li>Agora vamos instalar o <em>Babel</em>: <code>npm install babel-cli@6.10.1 --save-dev</code><ul>
<li>Nesse caso, eu passei a versão exatamente igual à utilizada no curso, mas já existem versões mais novas desse compilador.</li>
</ul>
</li>
<li>Para que o <em>Babel</em> possa &ldquo;entender&rdquo; a sintaxe do <strong>ES6</strong> e converter para o <strong>ES5</strong>, precisamos instalar mais um módulo, que é o <em>preset</em>: <code>npm install babel-preset-es2015@6.9.0 --save-dev</code></li>
<li>Por fim, além de instalar os dois módulos, é hora de fazer a &ldquo;<em>ligação de um com o outro</em>&ldquo;<ul>
<li>Para isso, vamos criar o arquivo <code>.babelrc</code>, que é um <strong>arquivo de configuração do *Babel</strong><em>, lido toda vez que o *Babel</em> é executado</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="atividade-03-executando-o-babel">Atividade 03 - Executando o Babel<a class="headerlink" href="#atividade-03-executando-o-babel" title="Permanent link"></a></h3>
<ul>
<li>Uma forma de executar o <em>Babel</em> na nossa aplicação é:<ul>
<li>Abrir o arquivo <code>package.json</code></li>
<li>Dentro da key <code>scripts</code>, adicionar uma vírgula <code>,</code> e uma nova chave (nesse caso, usaremos a chave <code>build</code>)</li>
<li>Ex: <code>"build": "babel js/app-es6 -d js/app"</code><ul>
<li>Esse comando diz, basicamente: &ldquo;<em>execute o comando <code>babel</code> na pasta <code>js/app-es6</code> e o resultado dessa execução deve ser colocado no <strong>destino</strong> <code>js/app</code></em>&ldquo;</li>
</ul>
</li>
<li>Agora já podemos rodar nosso &ldquo;<em>script</em>&rdquo; com o <code>npm</code>: <code>npm run build</code><ul>
<li>Note que <strong>build</strong> é o nome do <em>script</em> inserido dentro do <code>packege.json</code></li>
</ul>
</li>
<li>Se algum <strong>erro</strong> ocorrer, execute o comando manualmente para obter o mesmo resultado: <code>./node_modules/.bin/babel js/app-es6 -d js/app</code></li>
<li>Eu acho muito interessante sempre adicionar o parâmetro <code>--source-maps</code><ul>
<li>Esse parâmetro trata-se de um arquivo que liga o arquivo resultante da compilação com o seu original para efeito de depuração, ou seja, para uso do <em>debugger</em>. Em resumo, ele permitirá que quando erros acontecerem, o <em>debugger</em> aponte o arquivo escrito em <strong>es6</strong>, não o transcompilado em <strong>es5</strong></li>
<li>Comando final: <code>./node_modules/.bin/babel js/app-es6 -d js/app --source-maps</code></li>
</ul>
</li>
<li>Após realizar os comandos acima, eu tive <strong>problemas com a aplicação</strong>, pois ela apresentou diversos erros decorrentes da utilização do <em>Babel</em><ul>
<li>Para resolvê-los, encontrei essa discussão no próprio fórum da Alura: <a href="https://cursos.alura.com.br/forum/topico-erro-no-fetch-js-63066">Erro no fetch.js</a></li>
<li>Caso não tenha acesso, em resumo, adicione essa linha no HTML: <code>&lt;script&gt; var exports = {}; &lt;/script&gt;</code><ul>
<li>Ela tem que ser posta na frente de todos os outros scripts que foram importados.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="atividade-04-compilando-arquivos-em-tempo-real">Atividade 04 - Compilando arquivos em tempo real<a class="headerlink" href="#atividade-04-compilando-arquivos-em-tempo-real" title="Permanent link"></a></h3>
<ul>
<li>Outro recurso muito utilizado do <em>Babel</em> é a atualização do pacote de arquivos transcompilados em <strong>tempo real</strong>. Para fazer isso através de um <em>script</em> <code>npm</code>, podemos duplicar a linha do <code>build</code> anterior, adicionando o parâmetro <code>--watch</code>.<ul>
<li>A chave padrão para esse comando é <code>watch</code> também</li>
<li><strong>Nova linha:</strong> <code>"watch": "babel js/app-es6 -d js/app --source-maps --watch"</code><ul>
<li><strong>Para executar:</strong> <code>npm run watch</code></li>
</ul>
</li>
<li>Após executar esse script, não será mais necessário rodar o comando de <code>build</code> toda vez que alterarmos algum arquivo</li>
</ul>
</li>
</ul>
<h3 id="atividade-11-para-saber-mais-ha-limite-para-os-transcompiladores">Atividade 11 - Para saber mais: há limite para os transcompiladores?<a class="headerlink" href="#atividade-11-para-saber-mais-ha-limite-para-os-transcompiladores" title="Permanent link"></a></h3>
<ul>
<li>Vale ressaltar aqui, apenas a título de informação, que <strong>nem todos os problemas são resolvidos através dos *transpilers</strong>*!<ul>
<li>Por exemplo, se usarmos <code>promises</code>, o código transcompilado continuará a não funcionar caso o navegador não suporte esse recurso. </li>
<li>Isso também ocorre com a <code>Fetch API</code> que vimos. </li>
<li>Nesses casos, é comum misturar o processo de transcompilação com o uso de um ou outro <code>polyfill</code> para tapar aquelas lacunas que o <em>transpiler</em> não consegue.</li>
</ul>
</li>
</ul>
<h2 id="aula-07-trabalhando-com-modulos-do-es2015">Aula 07 - Trabalhando com módulos do ES2015!<a class="headerlink" href="#aula-07-trabalhando-com-modulos-do-es2015" title="Permanent link"></a></h2>
<h3 id="atividade-01-escopo-global-e-carregamento-de-scripts-dor-de-cabeca">Atividade 01 - Escopo global e carregamento de scripts = dor de cabeça<a class="headerlink" href="#atividade-01-escopo-global-e-carregamento-de-scripts-dor-de-cabeca" title="Permanent link"></a></h3>
<ul>
<li>Podemos dizer que o &ldquo;calcanhar de Aquiles&rdquo; do <em>JavaScript</em> são: o <strong>escopo global</strong> e o <strong>carregamento de *scripts</strong><em>! Se você já trabalhou com a linguagem, com certeza importou um *script</em> antes do que deveria ou acabou redeclarando uma variável ou função em um arquivo que você teve que realizar manutenção&hellip;<ul>
<li>Para solucionar esse problema e enraizar de vez essa linguagem como uma linguagem completa e útil, vamos utilizar a <strong>modularização (sistema de módulos)</strong> do <code>ES2015</code>! Esse recurso vai nos auxiliar a resolver esses dois problemas.</li>
</ul>
</li>
</ul>
<h3 id="atividade-02-es2015-e-modulos">Atividade 02 - ES2015 e módulos<a class="headerlink" href="#atividade-02-es2015-e-modulos" title="Permanent link"></a></h3>
<ul>
<li>Por padrão, considera-se no <em>ES2015</em> que <code>cada script é um módulo</code>.<ul>
<li>Isso quer dizer que tudo que estiver dentro desse arquivo não vai ser acessível naturalmente para lugar nenhum - <em>não vai estar no escopo global</em>.</li>
</ul>
</li>
<li>Com esse conceito, cada vez que um módulo - <em>um script</em> - quiser utilizar outro módulo, seja para fazer um <code>extends</code>, utilizar um <em>Helper</em> ou <em>instanciar</em> um objeto, devemos <strong>explicitamente</strong> dizer que queremos importar esse módulo.<ul>
<li>Podemos fazer isso através da palavra reservada <code>import</code>, aliada de uma <em>chave</em> (<code>{}</code>) que conterá os valores (classes, <em>libs</em>&hellip;) que serão importados, juntamente com a palavra <code>from</code> e o caminho do módulo que deve ser importado.</li>
<li><strong>Ex.:</strong> <code>import {View} from './View';</code><ul>
<li>Note que o arquivo <em>View</em> está na mesma pasta do módulo que está importando-o. Em virtude disso, utilizamos <code>./</code> na frente do nome do módulo, que <strong>não necessita levar extensão</strong>.</li>
</ul>
</li>
</ul>
</li>
<li>No entanto, para que essa importação seja possível, o módulo que será importado deve &ldquo;dizer&rdquo;, <strong>explicitamente</strong>, que ele &ldquo;permite&rdquo; ser importado.<ul>
<li>Podemos fazer isso através da palavra reservada <code>export</code> colocada antes do nome da classe, por exemplo.</li>
<li><strong>Ex.:</strong> <code>export class View {  ... }</code></li>
</ul>
</li>
</ul>
<h3 id="atividade-04-systemjs">Atividade 04 - SystemJs<a class="headerlink" href="#atividade-04-systemjs" title="Permanent link"></a></h3>
<ul>
<li>Apesar de ter refatorado o nosso sistama para usar <code>import</code> e <code>export</code>, ele ainda não funciona!! Mas por quê?<ul>
<li>O sistema ainda não funciona porque o <em>ES2015</em> especifica apenas a utilização de exportações/importações, mas não define <strong>como</strong> elas devem ser importadas. Ou seja, não existe um padrão para importar nossos módulos - uma biblioteca, recurso nativo do <em>browser</em>, entre outros&hellip; -, cada um faz do seu jeito!</li>
<li>Esse papel que ainda não está padronizado é conhecido como <strong><em>loader</em></strong>, recurso responsável por &ldquo;magicamente&rdquo; carregar todos os <em>scripts</em> a partir de uma inclusão inicial.<ul>
<li>Entenda: nossa inclusão inicial é o arquivo <code>a.js</code>. Porém, <code>a.js</code> depende de <code>b.js</code> , <code>c.js</code> e <code>d.js</code>. Não somos nós que importaremos os 3 últimos <em>scripts</em>, e sim nosso <strong><em>loader</em></strong>!</li>
</ul>
</li>
</ul>
</li>
<li>Para esse curso, escolhemos como <em>loader</em> a biblioteca <a href="https://github.com/systemjs/systemjs"><em>Systemjs</em></a>.</li>
<li><strong>Observação:</strong> a diferença, ao instalar pacotes com <code>npm</code>, entre <code>--save</code> e <code>--save-dev</code> é sobre o <strong>local</strong> no qual esse pacote será necessário.<ul>
<li>Por exemplo: o pacote do <code>watch</code>, que transcompila o código automaticamente, sem que o <em>dev</em> precise ficar <em>&ldquo;rebuildando&rdquo;</em> a aplicação&hellip; é óbvio que ele só é necessário em <strong>ambiente de desenvolvimento</strong>. Agora o <code>loader</code>, que é quem permite a modularização do sistema e faz o <em>browser</em> &ldquo;entender&rdquo; as importações&hellip; está claro que é mais do que essencial no <strong>ambiente de produção</strong>.</li>
<li>Por isso, ao instalar o <code>loader</code> usamos <strong>&ndash;save</strong> e no <code>watch</code> usamos <strong>&ndash;save-dev</strong>.</li>
</ul>
</li>
</ul>
<h3 id="atividade-05-babel-e-transcompilacao-de-modulos">Atividade 05 - Babel e transcompilação de módulos<a class="headerlink" href="#atividade-05-babel-e-transcompilacao-de-modulos" title="Permanent link"></a></h3>
<ul>
<li>Como, em nosso projeto, estamos utilizando um <code>transpiler</code> em conjunto com um <code>loader</code>, vamos precisar fazer uma pequena alteração: precisamos que o <em>Babel</em> - nosso <code>transpiler</code> - faça a transcompilação dos nossos **módulos, a partir de agora</li>
</ul></article></body></html>